<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript" src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
    <canvas id="myCanvas" width="1500" height="600" style="border:1px solid #000;"></canvas>

    <script>
        let partner_seat = []
        $.ajax({
            type:'POST',
            async:false,
            url : 'http://127.0.0.1:5000/seats/',//데이터를 주고받을 파일 주소 입력,
            data: {
                use:'reseat'
            },//보내는 데이터,
            dataType:'json',
            success: function (result) {
                partner_seat = result
            },
            error: function () {
                //에러가 났을 경우 실행시킬 코드
            }
        })
        
        let result = []
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");

        // 글자 스타일 설정
        ctx.font = "40px bold";
        ctx.fillStyle = "black";

        // 글자 쓰기
        ctx.fillText("1분단", 100, 50);
        ctx.fillText("2분단", 500, 50);
        ctx.fillText("3분단", 900, 50);
        ctx.fillText("4분단", 1300, 50);

        var x = 0
        var y = 150
        for (var i = 0; i < 16; i++) {

            var partner1 = partner_seat[i][0]
            var partner2 = partner_seat[i][1]
            


            if (i == 4) {
                x = 400
                y = 150
            }
            if (i == 8) {
                x = 800
                y = 150
            }
            if(i == 12){
                x = 1200
                y = 150
            }
            ctx.fillText(partner1, x, y);
            ctx.fillText(partner2, x + 150, y);
            y += 60

        }



    </script>
</body>

</html>